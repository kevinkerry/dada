!function(){function e(){function e(){if(d.x<0){if("right"==v){for(var t=[],n=u;n>=0;n--)t.push(g[n]);for(var n=y-1;n>u;n--)t.push(g[n]);for(var n=0,i=t.length;i>n;n++)t[n].style.zIndex=10*(y-n);v="left"}for(var n=0;y>n;n++)g[n].style.zIndex=n!=u?parseInt(g[n].style.zIndex)+10:10;u--}else{if("left"==v){for(var t=[],n=u;y>n;n++)t.push(g[n]);for(var n=0;u>n;n++)t.push(g[n]);for(var n=0,i=t.length;i>n;n++)t[n].style.zIndex=10*(y-n);v="right"}for(var n=0;y>n;n++)g[n].style.zIndex=n!=u?parseInt(g[n].style.zIndex)+10:10;u++}0>u&&(u=y-1),u>=y&&(u=0),o.removeEventListener("webkitAnimationEnd",e,!1),o.classList.remove(l),h=!1}g[u].style.opacity=1,o.classList.add(l),o.addEventListener("webkitAnimationEnd",e,!1)}var t=.86*window.innerWidth,n=document.querySelector(".m-circulate"),i=document.querySelector(".g-bg");n.style.height=.86*window.innerWidth+"px";var r=document.querySelector("#content");r.clientHeight<window.innerHeight&&(r.style.height=window.innerHeight+"px"),i.style.height=r.clientHeight+"px";var a=document.querySelector(".btn-more"),s=document.querySelector(".m-more");a&&a.addEventListener("click",function(){s.classList.contains("active")?s.classList.remove("active"):(s.classList.add("active"),s.classList.add("fadeInDown")),i.style.height=r.clientHeight+"px"}),a&&s.addEventListener("webkitAnimationEnd",function(){this.classList.remove("fadeInDown")});for(var o,l,c={},d={},u=0,h=!1,v="right",g=document.querySelectorAll(".m-circulate .img"),y=g.length,f=0;y>f;f++){var m=g[f];m.style.zIndex=10*(y-f);var p=m.getAttribute("lazy-src"),x=p.split("!");if(x.length>1){var w=x[1].split(".")[1];m.style.backgroundImage="url("+x[0]+"!"+parseInt(t)+"x"+parseInt(t)+"."+w+")"}else m.style.backgroundImage="url("+x[0]+")";m.style.width=t+"px",m.style.height=t+"px",m.addEventListener("touchstart",function(e){var t=e.touches[0];c={x:t.pageX,y:t.pageY,time:+new Date}}),m.addEventListener("touchmove",function(e){if(!(e.touches.length>1||e.scale&&1!==e.scale)){e.preventDefault();var t=e.touches[0];d={x:t.pageX-c.x,y:t.pageY-c.y}}}),m.addEventListener("touchend",function(t){d.x&&Math.abs(d.x)>30&&!h?(h=!0,l=d.x<0?"zoomOutLeft":"zoomOutRight",o=t.target,e()):d.y<-30||d.y>30})}}();